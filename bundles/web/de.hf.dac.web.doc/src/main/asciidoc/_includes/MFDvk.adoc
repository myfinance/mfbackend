include::header.adoc[]

= DB Model

.MyFinance Data Model
image::dbmodel.png[MyFinance Data Model]

= APIs

Die von der MyFinance Infrastruktur bereitgestellten Funktionalitäten und werden über APIs zugänglich gemacht. Eine API bündelt eine fachliche und/oder technische Menge von Funktionen, mit denen der Funktionsumfang einer Anwendung möglichst vollständig und kontrolliert über standardisierte Schnittstellen zugänglich gemacht wird.

[plantuml]
.APIs machen Funktionalität zugänglich
....
@startuml
!pragma graphviz_dot jdot
skinparam componentStyle uml2

cloud {
    [Client1]
    [Client2]
}

frame "APIs" {
    RESTAPI1 - [API1]
    RESTAPI2 - [API2]
}

frame Applications {
    [Application1]
    [Application2]
}

frame SharedComponents {
    [SharedComponent1]
    [SharedComponent2]
}


[Client1] --> RESTAPI1
[Client2] --> RESTAPI1
[Client2] --> RESTAPI2
[API1] --> [Application1]
[API2] --> [Application2]
[Application1] --> [SharedComponent1]
[Application1] --> [SharedComponent2]
[Application2] --> [SharedComponent1]
@enduml
....


= Environments

Environments bündeln Backend-Systeme nach fachlichen oder auch technischen Kriterien, und stellen damit Anwendungen den Kontext zur Verfügung.

[plantuml]
.Environments bündeln Backends
....
@startuml
!pragma graphviz_dot jdot
skinparam componentStyle uml2


frame Applications {
    [Application1]
    [Application2]
}

frame Environments {
    folder Environment1 {
        database db1a {
        }
        database db2a {
        }
    }
    folder Environment2 {
        database db1b {
        }
        database db2b {
        }
    }
}

Request - [Environment]: determines
[Environment] --> [Application1]: execute
[Environment] --> db1a: with
[Environment] --> db2a: with

@enduml
....


= Implementierte APIs

Es existieren aktuell folgende APIs, die produktiv genutzt werden:

[%autowidth.spread,cols=3*,options="header"]
|===
|Name|Environment-basiert (*) |Beschreibung
|link:/api-docs/#/MyFinance[MyFinance]
|Ja
|mit dieser Api können Daten für MyFinance gepflegt und abgefragt werden

|link:/api-docs/#/Jobs[Jobs]
|Ja
|Eine Api zum Starten von Jobs>.

|===

(*) Environment-basiert: Die APIs können je nach übergebener EnvironmentID in unterschiedlichen fachlichen und technischen System-Umgebungen wirken

TIP: Unter link:/api-docs3[Api Docs] sind noch mehr als die oben gelisteten Kategorien / API-Top Level zu sehen - dies hat einerseits technische Gründe, andererseits sind dort auch Test- und abzuschaltende APIs aufgelistet.
