<?xml version="1.0" encoding="UTF-8"?>
<features name="dac-io-features" xmlns="http://karaf.apache.org/xmlns/features/v1.3.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.3.0 http://karaf.apache.org/xmlns/features/v1.3.0">
    <repository>mvn:de.hf.dac.features/marketdata-domain-features/${project.version}/xml/features</repository>
    <feature name="postgres" version="${pom.version}">
        <feature>transaction</feature>
        <!--<bundle>mvn:org.postgresql/postgresql/9.4.1209</bundle>-->
        <bundle>mvn:org.osgi/org.osgi.service.jdbc/1.0.0</bundle>
        <bundle>mvn:org.postgresql/postgresql/9.4-1203-jdbc42</bundle>

    </feature>

    <feature name="dac-h2-feature" version="${pom.version}">
        <feature prerequisite="true">wrap</feature>
        <bundle>mvn:com.h2database/h2/1.4.186</bundle>
    </feature>

    <feature name="dac-cdi-feature"  version="${pom.version}">
        <bundle>mvn:org.ops4j.pax.cdi/pax-cdi-api/0.12.0</bundle>
        <!--<bundle>mvn:javax.enterprise/cdi-api/1.2</bundle>
        <bundle>mvn:javax.el/javax.el-api/2.2.5</bundle>
        <bundle>mvn:javax.interceptor/javax.interceptor-api/1.2</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.javax-inject/1_2</bundle>-->
    </feature>

    <feature name="dac-io-jpa-feature" version="${pom.version}">
        <feature prerequisite="true">wrap</feature>
        <feature prerequisite="true">dac-cdi-feature</feature>
        <feature prerequisite="true">postgres</feature>
        <feature prerequisite="true">dac-h2-feature</feature>
        <bundle>mvn:org.osgi/org.osgi.service.jdbc/1.0.0</bundle>
        <bundle>mvn:org.apache.commons/commons-lang3/${apache-commons-lang3.version}</bundle><!--necessary for api.io-->
        <bundle>mvn:de.hf.dac.api/de.hf.dac.api.io/${project.version}</bundle>
        <bundle>mvn:de.hf.dac.io/de.hf.dac.io.efmb/${project.version}</bundle>
        <bundle>mvn:org.eclipse.persistence/javax.persistence/2.1.1</bundle>
        <bundle>mvn:org.jboss.narayana.osgi/narayana-osgi-jta/5.3.4.Final</bundle>
    </feature>

    <feature name="dac-io-features" version="${pom.version}">
        <feature prerequisite="true">wrap</feature>
        <feature>dac-io-jpa-feature</feature>
    </feature>
</features>